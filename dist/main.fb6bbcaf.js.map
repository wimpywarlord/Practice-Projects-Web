{"version":3,"sources":["js/main.js"],"names":["container","document","querySelector","seats","querySelectorAll","count","getElementById","total","movieSelect","populateUI","ticketPrice","value","setMovieData","movieIndex","moviePrice","localStorage","setItem","updateSelectedCount","selectedSeats","seatsIndex","map","seat","indexOf","JSON","stringify","selectedSeatsCount","length","innerText","parse","getItem","console","log","forEach","index","classList","add","selectedMovieIndex","selectedIndex","addEventListener","event","target","e","contains","toggle"],"mappings":"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","file":"main.fb6bbcaf.js","sourceRoot":"..","sourcesContent":["const container = document.querySelector(\".container\");\r\nconst seats = document.querySelectorAll(\".row .seat:not(.occupied)\");\r\n\r\nconst count = document.getElementById(\"count\");\r\nconst total = document.getElementById(\"total\");\r\nconst movieSelect = document.getElementById(\"movie\");\r\n\r\npopulateUI();\r\n\r\nlet ticketPrice = movieSelect.value;\r\n\r\n// SET MOV IE DATA FUNCTION , SAVE SELECTED MOVIE INDEX\r\nfunction setMovieData(movieIndex, moviePrice) {\r\n    // console.log(movieIndex, moviePrice);\r\n    localStorage.setItem(\"selectedMovieIndex\", movieIndex);\r\n    localStorage.setItem(\"selectedMoviePrice\", moviePrice);\r\n}\r\n\r\n// Update Total and count\r\nfunction updateSelectedCount() {\r\n    const selectedSeats = document.querySelectorAll(\".row .seat.selected\");\r\n\r\n    // copy selected seats into arr\r\n    // Map through array\r\n    // return new array of indexes\r\n\r\n    let seatsIndex = [...selectedSeats].map(function (seat) {\r\n        return [...seats].indexOf(seat);\r\n    });\r\n\r\n    // console.log(seatsIndex);\r\n\r\n    localStorage.setItem(\"selectedSeats\", JSON.stringify(seatsIndex));\r\n\r\n    // console.log(selectedSeats);\r\n    const selectedSeatsCount = selectedSeats.length;\r\n\r\n    // console.log(selectedSeatsCount);\r\n\r\n    count.innerText = selectedSeatsCount;\r\n    total.innerText = selectedSeatsCount * ticketPrice;\r\n}\r\n\r\n// GET DATA FROM LOCAL STORAGE AND POPULATE UI\r\nfunction populateUI() {\r\n    const selectedSeats = JSON.parse(localStorage.getItem(\"selectedSeats\"));\r\n    console.log(selectedSeats);\r\n\r\n    if (selectedSeats !== null && selectedSeats.length > 0) {\r\n        seats.forEach(function (seat, index) {\r\n            if (selectedSeats.indexOf(index) > -1) {\r\n                seat.classList.add(\"selected\");\r\n            }\r\n        });\r\n    }\r\n\r\n    const selectedMovieIndex = localStorage.getItem(\"selectedMovieIndex\");\r\n\r\n    if (selectedMovieIndex != null) {\r\n        movieSelect.selectedIndex = selectedMovieIndex;\r\n    }\r\n}\r\n\r\n// MOVIE SELECT EVENT\r\nmovieSelect.addEventListener(\"change\", (event) => {\r\n    ticketPrice = event.target.value;\r\n    setMovieData(event.target.selectedIndex, event.target.value);\r\n    updateSelectedCount();\r\n});\r\n\r\ncontainer.addEventListener(\"click\", function (e) {\r\n    // console.log(e.target);\r\n    if (\r\n        e.target.classList.contains(\"seat\") &&\r\n        !e.target.classList.contains(\"occupied\")\r\n    ) {\r\n        e.target.classList.toggle(\"selected\");\r\n        updateSelectedCount();\r\n    }\r\n});\r\n\r\n// Initial count and total set\r\nupdateSelectedCount();\r\n"]}